# Localization Guide

This document defines mandatory localization rules for Hoplixi.

## Supported Locales

Current supported locales:

- `en` (English)
- `ru` (Russian)

Localization sources:

- `lib/l10n/intl_en.arb`
- `lib/l10n/intl_ru.arb`

## Core Rules

- Never hardcode user-facing strings in widgets, dialogs, forms, toasts, or
  validation messages.
- Every new UI string must be added to ARB files and exposed through generated
  localizations.
- Keep `en` and `ru` in sync: every key added to one file must be added to the
  other in the same change.
- Prefer stable semantic keys (feature-oriented), not visual wording.
- Keep placeholders explicit and consistent across locales.

## Key Naming Convention

Use lowerCamelCase with feature prefix:

- `homeRecentStoresTitle`
- `storeOpenErrorMessage`
- `settingsThemeSectionTitle`

Avoid generic keys like:

- `title1`
- `textLabel`
- `buttonOk`

## ARB Metadata Rules

For non-trivial keys, add metadata using `@key`:

- `description` — what this text is used for
- `placeholders` — when interpolation is used

Example:

```json
{
	"storeOpenErrorMessage": "Failed to open storage: {reason}",
	"@storeOpenErrorMessage": {
		"description": "Error text shown when storage opening fails",
		"placeholders": {
			"reason": {
				"type": "String"
			}
		}
	}
}
```

## Implementation Flow

1. Add/update keys in both ARB files.
2. Regenerate localizations (if not auto-generated by project tooling).
3. Replace hardcoded UI strings with generated localization getters.
4. Validate placeholders and plural/select logic in both locales.

## Quality Checklist

Before finishing a localization-related task, verify:

- No new hardcoded user-facing strings were introduced.
- `en` and `ru` contain the same key set.
- Interpolated placeholders are identical in both locales.
- Messages are clear and context-appropriate for both locales.

## Notes for Future Locale Expansion

When adding a new locale in the future:

- Use `en` as baseline key source.
- Add full translation coverage before release.
- Keep key schema unchanged to avoid breaking generated API.
